# 사용자 메뉴얼 — Process Mining Application

**버전**: 1.0.0
**대상**: 프로세스 분석가, 비즈니스 담당자

---

## 개요

이 애플리케이션은 업무 이벤트 데이터(이벤트 로그)에서 **프로세스 흐름을 자동으로 발견**하고
시각화하는 도구입니다. 별도의 코딩 없이 CSV/Excel 파일만 있으면 바로 분석을 시작할 수 있습니다.

---

## 화면 구성

```
┌──────────────────┬────────────────────────────────────────┐
│    사이드바        │            메인 영역                    │
│  (설정 및 입력)   │         (결과 및 시각화)                 │
└──────────────────┴────────────────────────────────────────┘
```

- **사이드바** (왼쪽): 데이터 업로드, 컬럼 매핑, 알고리즘 선택
- **메인 영역** (오른쪽): 분석 결과, 프로세스 모델, 통계

---

## STEP 1. 데이터 준비

### 필요한 데이터 형식

Process Mining을 위해 다음 **3가지 필수 정보**가 포함된 파일이 필요합니다.

| 필수 항목 | 설명 | 예시 |
|-----------|------|------|
| **Case ID** | 하나의 업무 처리 단위 식별자 | 주문번호, 환자번호, 신청서번호 |
| **Activity** | 수행된 작업/활동명 | 접수, 검토, 승인, 반려 |
| **Timestamp** | 활동이 수행된 날짜/시간 | 2024-01-15 09:30:00 |

### 파일 형식 예시

```
주문번호,    활동명,   시작시각,              담당자
PO-001,    구매요청,  2024-01-10 09:00:00,  홍길동
PO-001,    견적요청,  2024-01-10 10:30:00,  김영희
PO-001,    승인,      2024-01-11 14:00:00,  이팀장
PO-001,    발주,      2024-01-12 09:00:00,  시스템
PO-002,    구매요청,  2024-01-11 10:00:00,  박민수
...
```

> **핵심 규칙**: 한 행 = 하나의 이벤트 (한 활동의 수행 기록)

### 지원 파일 형식

| 형식 | 확장자 | 인코딩 |
|------|--------|--------|
| CSV | `.csv` | UTF-8, CP949(한글), EUC-KR 자동 감지 |
| Excel | `.xlsx`, `.xls` | 자동 처리 |

---

## STEP 2. 데이터 업로드

사이드바 상단의 **📂 데이터 소스** 섹션에서 데이터를 불러옵니다.

### 방법 1: 샘플 데이터 사용 (처음 시작할 때 권장)

| 샘플 | 특징 |
|------|------|
| **샘플: 구매 프로세스 (KR)** | 한국어, 150케이스, 비표준 컬럼명 |
| **샘플: Running Example (EN)** | 영어, 100케이스, PM4Py 표준 컬럼명 |

`샘플 불러오기` 버튼을 클릭하면 즉시 로드됩니다.

### 방법 2: 파일 업로드

`파일 업로드` 라디오 버튼 선택 후, 파일 업로드 영역에 파일을 드래그하거나 클릭하여 선택합니다.

- Excel 파일에 시트가 여러 개 있으면 시트 선택 드롭다운이 나타납니다.
- 업로드 성공 시 "파일 로드 완료" 메시지가 표시됩니다.

---

## STEP 3. 컬럼 매핑 확인

파일이 로드되면 **🔧 컬럼 매핑** 섹션이 자동으로 표시됩니다.

### 자동 추론 결과

시스템이 자동으로 Case ID, Activity, Timestamp 컬럼을 추론하여 표시합니다.

```
Case ID *   : [주문번호     ▼]  🟠 낮음
Activity *  : [활동명       ▼]  🟠 낮음
Timestamp * : [시작시각     ▼]  🟠 낮음
Resource    : [담당자       ▼]  🟠 낮음
```

### 신뢰도 기호 의미

| 기호 | 의미 | 권장 조치 |
|------|------|-----------|
| 🟢 높음 | 자동 추론 결과가 매우 정확함 | 그대로 사용 |
| 🟡 보통 | 대체로 정확하나 확인 권장 | 한번 검토 |
| 🟠 낮음 | 불확실, 사용자 확인 필요 | 반드시 확인 |
| 🔴 실패 | 추론 실패, 수동 선택 필요 | 직접 선택 |

### 수동 수정 방법

드롭다운을 클릭하여 올바른 컬럼을 선택합니다.

> **참고**: `*` 표시는 필수 필드입니다. Case ID, Activity, Timestamp는 반드시 매핑되어야 합니다.

### 유효성 검사

매핑 오류가 있으면 자동으로 경고/오류 메시지가 표시됩니다.

- 🚫 **오류**: 반드시 수정해야 분석이 진행됩니다.
- ⚠️ **경고**: 분석은 가능하나 결과에 영향을 줄 수 있습니다.

---

## STEP 4. 알고리즘 선택

**⚙️ 알고리즘** 섹션에서 분석 알고리즘을 선택합니다.

### 알고리즘 비교

| 알고리즘 | 특징 | 추천 상황 |
|----------|------|-----------|
| **Alpha Miner** | 단순, 빠름. 노이즈에 취약 | 학습/비교용 |
| **Heuristics Miner** | 노이즈 허용, 실무형 | 일반 업무 분석 |
| **Inductive Miner** | Fitness 100% 보장, 안정적 | **기본 권장** |

> **처음이라면 Inductive Miner를 선택하세요.** (기본값)

### 파라미터 조정

#### Heuristics Miner 선택 시

- **Dependency Threshold** (기본: 0.5)
  - 값을 높이면 → 모델이 단순해짐 (주요 경로만 표시)
  - 값을 낮추면 → 모델이 복잡해짐 (드문 경로도 표시)

- **AND Threshold** (기본: 0.65)
  - AND(병렬) 분기 판별 민감도. 기본값 권장.

#### Inductive Miner 선택 시

- **Noise Threshold** (기본: 0.0)
  - 0.0: 모든 케이스를 반영 (정확하지만 복잡할 수 있음)
  - 0.1~0.2: 드문 경로(노이즈) 제거 (실무 권장)
  - 0.5: 적극적 노이즈 제거 (단순한 모델)

---

## STEP 5. 시각화 선택

**📊 시각화** 섹션에서 표시할 모델 유형을 선택합니다.

### 시각화 유형

| 유형 | 특징 | 주요 용도 |
|------|------|-----------|
| **DFG** (Directly-Follows Graph) | 가장 직관적. 활동 간 빈도/성능 표시 | 프로세스 흐름 파악 |
| **Petri Net** | 학술 표준. 병렬/선택 구조 명확 | 상세 구조 분석 |
| **BPMN** | 업무 표준 표기법. 공유/문서화에 적합 | 결과 공유, 보고서 |

### DFG 표시 기준 (DFG 선택 시)

- **빈도 (Frequency)**: 각 경로의 발생 횟수 표시
- **성능 (Performance)**: 각 활동의 평균 처리 시간 표시

---

## STEP 6. 분석 실행

`▶ 분석 실행` 버튼을 클릭합니다.

- 버튼이 비활성화(회색)되어 있다면 필수 컬럼 매핑이 완료되지 않은 것입니다.
- 분석 중에는 스피너가 표시됩니다.
- 일반적으로 몇 초 이내에 완료됩니다.

---

## STEP 7. 결과 확인

### 상단 지표 (4가지 핵심 수치)

```
📦 케이스 수   ⚡ 이벤트 수   🔷 활동 종류   ⏱ 평균 소요
    150           1,052           9          82.6h
```

### 프로세스 모델 뷰어

인터랙티브 그래프로 프로세스 모델을 확인합니다.

| 동작 | 방법 |
|------|------|
| 이동 | 마우스 드래그 |
| 확대/축소 | 마우스 휠 스크롤 |
| 확대 버튼 | ＋ 클릭 |
| 축소 버튼 | － 클릭 |
| 초기화 | ↺ 초기화 클릭 |
| 뷰포트 맞춤 | ⊡ 맞춤 클릭 |

> **모바일**: 한 손가락 드래그로 이동, 두 손가락 핀치로 확대/축소

### 통계 탭

모델 아래의 탭에서 상세 통계를 확인합니다.

#### 📈 활동별 통계 탭

- **활동별 발생 빈도** 막대 차트
- **케이스 커버리지**: 해당 활동이 등장한 케이스 비율
- **평균 소요 시간**: 활동 완료까지 걸린 평균 시간
- **케이스 소요시간 분포** 히스토그램

#### 🔀 프로세스 바리언트 탭

- **바리언트(경로)**: 실제 발생한 프로세스 경로 패턴
- **케이스 수**: 해당 경로로 처리된 건수
- **커버리지(%)**: 전체 케이스 중 비율
- **도넛 차트**: 상위 5 바리언트 분포 시각화

> **팁**: 상위 1~3개 바리언트가 전체의 80% 이상이면 프로세스가 표준화되어 있다는 뜻입니다.

#### 📋 이벤트 로그 탭

원본 데이터를 테이블 형태로 확인합니다. 컬럼 클릭으로 정렬이 가능합니다.

---

## 자주 묻는 질문 (FAQ)

**Q. 분석 실행 버튼이 비활성화되어 있어요.**

A. 필수 컬럼(Case ID, Activity, Timestamp)이 모두 매핑되어야 합니다.
컬럼 매핑 섹션에서 🚫 오류 메시지가 없는지 확인하세요.

---

**Q. BPMN 시각화가 안 되고 오류 메시지가 표시돼요.**

A. BPMN은 graphviz 시스템 도구가 설치되어 있어야 합니다.
설치 메뉴얼을 참고하여 graphviz를 설치해주세요.
또는 Inductive Miner 알고리즘을 선택하면 BPMN 품질이 가장 좋습니다.

---

**Q. Alpha Miner와 Inductive Miner 결과가 많이 다른데 어느 게 맞나요?**

A. 둘 다 맞습니다. 알고리즘에 따라 프로세스를 다르게 표현합니다.
- Alpha Miner: 엄격한 순서 관계 기반, 단순하지만 불완전할 수 있음
- Inductive Miner: 재현율 100% 보장, 가장 신뢰도 높음 (실무 권장)

자세한 알고리즘 비교는 `docs/process_discovery_algorithms.md` 문서를 참고하세요.

---

**Q. 한글 데이터인데 컬럼 자동 추론 신뢰도가 '낮음'으로 표시돼요.**

A. 비표준 한국어 컬럼명은 자동 추론 신뢰도가 낮게 표시될 수 있습니다.
추론된 결과가 올바른지 확인하고, 맞다면 그대로 진행하면 됩니다.
신뢰도는 추론의 확신도이며, 낮음이라도 실제 매핑이 올바를 수 있습니다.

---

**Q. 프로세스 모델이 너무 복잡하게 나와요.**

A. 다음 방법을 시도해보세요:
1. **Heuristics Miner**의 Dependency Threshold를 높임 (예: 0.7~0.8)
2. **Inductive Miner**의 Noise Threshold를 높임 (예: 0.1~0.2)
3. 이벤트 로그에서 드문 케이스를 제거 후 다시 분석

---

**Q. 케이스 소요 시간이 0으로 표시되는 활동이 있어요.**

A. 해당 활동이 케이스의 마지막 이벤트이거나 다음 이벤트가 없는 경우입니다.
평균 소요 시간은 "현재 활동 → 다음 활동" 사이의 시간을 의미합니다.

---

## 데이터 준비 체크리스트

분석 시작 전 다음을 확인하세요:

- [ ] 파일에 Case ID, Activity, Timestamp 컬럼이 있다
- [ ] Timestamp가 날짜/시간 형식으로 저장되어 있다 (예: 2024-01-15 09:30:00)
- [ ] Case ID 컬럼에 결측값(빈 값)이 없다
- [ ] Activity 컬럼에 결측값이 없다
- [ ] 케이스 수가 2개 이상이다
- [ ] 이벤트 수가 10개 이상이다

---

*최종 수정: 2026-02-28*
